<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- views/budget_category_views.xml -->

    <!-- –ö–ê–¢–ï–ì–û–†–Ü–á –ë–Æ–î–ñ–ï–¢–£ -->
    <record id="view_budget_category_tree" model="ir.ui.view">
        <field name="name">budget.category.tree</field>
        <field name="model">budget.category</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" widget="handle"/>
                <field name="code"/>
                <field name="name"/>
                <field name="parent_id"/>
                <field name="budget_type_ids" widget="many2many_tags"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <field name="active" widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <record id="view_budget_category_form" model="ir.ui.view">
        <field name="name">budget.category.form</field>
        <field name="model">budget.category</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group string="–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è">
                            <field name="code"/>
                            <field name="name"/>
                            <field name="parent_id"/>
                            <field name="sequence"/>
                        </group>
                        <group string="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">
                            <field name="company_id" options="{'no_create': True}"/>
                            <field name="active"/>
                            <field name="default_account_id" options="{'no_create': True}"/>
                        </group>
                    </group>

                    <group string="–û–ø–∏—Å">
                        <field name="description" nolabel="1"/>
                    </group>

                    <group string="–¢–∏–ø–∏ –±—é–¥–∂–µ—Ç—ñ–≤">
                        <field name="budget_type_ids" nolabel="1" widget="many2many_tags"/>
                    </group>

                    <notebook>
                        <page string="–ó–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—ñ–≤">
                            <field name="account_mapping_ids">
                                <tree editable="bottom">
                                    <field name="company_id"/>
                                    <field name="cbo_id"/>
                                    <field name="cost_center_id"/>
                                    <field name="account_id" required="1"/>
                                    <field name="analytic_account_id"/>
                                    <field name="priority"/>
                                    <field name="active" widget="boolean_toggle"/>
                                </tree>
                            </field>
                        </page>

                        <page string="–ü—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó">
                            <field name="child_ids" readonly="1">
                                <tree>
                                    <field name="code"/>
                                    <field name="name"/>
                                    <field name="active"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_budget_category" model="ir.actions.act_window">
        <field name="name">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –±—é–¥–∂–µ—Ç—É</field>
        <field name="res_model">budget.category</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –±—é–¥–∂–µ—Ç–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç!
            </p>
            <p>
                –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Å–ø—Ä–æ—â—É—é—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—è –±—é–¥–∂–µ—Ç—ñ–≤ —ñ –¥–æ–∑–≤–æ–ª—è—é—Ç—å
                —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏–±–æ—Ä—É —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö —Ä–∞—Ö—É–Ω–∫—ñ–≤.
            </p>
        </field>
    </record>

    <!-- –¶–ï–ù–¢–†–ò –í–ò–¢–†–ê–¢ -->
    <record id="view_budget_cost_center_tree" model="ir.ui.view">
        <field name="name">budget.cost.center.tree</field>
        <field name="model">budget.cost.center</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" widget="handle"/>
                <field name="code"/>
                <field name="name"/>
                <field name="cbo_id"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <field name="active" widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <record id="view_budget_cost_center_form" model="ir.ui.view">
        <field name="name">budget.cost.center.form</field>
        <field name="model">budget.cost.center</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group string="–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è">
                            <field name="code"/>
                            <field name="name"/>
                            <field name="sequence"/>
                        </group>
                        <group string="–û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ–π–Ω—ñ –∑–≤'—è–∑–∫–∏">
                            <field name="company_id" options="{'no_create': True}"/>
                            <field name="cbo_id" options="{'no_create': True}"/>
                            <field name="department_id" options="{'no_create': True}"/>
                            <field name="active"/>
                        </group>
                    </group>

                    <group string="–û–±–ª—ñ–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">
                        <field name="analytic_account_id" options="{'no_create': True}"/>
                    </group>

                    <group string="–û–ø–∏—Å">
                        <field name="description" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_budget_cost_center" model="ir.actions.act_window">
        <field name="name">–¶–µ–Ω—Ç—Ä–∏ –≤–∏—Ç—Ä–∞—Ç</field>
        <field name="res_model">budget.cost.center</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- –û–ù–û–í–õ–ï–ù–ê –§–û–†–ú–ê –õ–Ü–ù–Ü–ô –ë–Æ–î–ñ–ï–¢–£ -->
    <record id="view_budget_plan_line_simplified_tree" model="ir.ui.view">
        <field name="name">budget.plan.line.simplified.tree</field>
        <field name="model">budget.plan.line</field>
        <field name="priority">15</field>
        <field name="arch" type="xml">
            <tree editable="bottom" decoration-muted="is_consolidation">
                <!-- –°–ü–†–û–©–ï–ù–Ü –ü–û–õ–Ø -->
                <field name="budget_category_id" string="–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –≤–∏—Ç—Ä–∞—Ç"
                       options="{'no_create': True}"/>
                <field name="cost_center_id" string="–¶–µ–Ω—Ç—Ä –≤–∏—Ç—Ä–∞—Ç"
                       options="{'no_create': True}"/>
                <field name="description" string="–û–ø–∏—Å"/>

                <!-- –§–Ü–ù–ê–ù–°–û–í–Ü –ü–û–õ–Ø -->
                <field name="quantity"/>
                <field name="unit_price"/>
                <field name="planned_amount"/>
                <field name="committed_amount"/>
                <field name="actual_amount"/>

                <!-- –¢–ï–•–ù–Ü–ß–ù–Ü –ü–û–õ–Ø (–º–æ–∂–Ω–∞ –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏) -->
                <field name="category_code" optional="hide"/>
                <field name="cost_center_code" optional="hide"/>
                <field name="account_id" optional="hide" readonly="1"/>
                <field name="analytic_account_id" optional="hide" readonly="1"/>
                <field name="calculation_method" optional="hide"/>
                <field name="is_consolidation" invisible="1"/>
            </tree>
        </field>
    </record>

    <record id="view_budget_plan_line_simplified_form" model="ir.ui.view">
        <field name="name">budget.plan.line.simplified.form</field>
        <field name="model">budget.plan.line</field>
        <field name="priority">15</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group string="–©–æ –≤–∏—Ç—Ä–∞—á–∞—î–º–æ?">
                            <field name="budget_category_id" options="{'no_create': True}"/>
                            <field name="cost_center_id" options="{'no_create': True}"/>
                            <field name="description"/>
                        </group>

                        <group string="–°–∫—ñ–ª—å–∫–∏ –≤–∏—Ç—Ä–∞—á–∞—î–º–æ?">
                            <field name="quantity"/>
                            <field name="unit_price"/>
                            <field name="planned_amount"/>
                            <field name="calculation_method"/>
                        </group>
                    </group>

                    <group string="–†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ç–∞ –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è">
                        <field name="calculation_basis" nolabel="1"/>
                        <field name="notes" nolabel="1"/>
                    </group>

                    <notebook>
                        <page string="–û–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ" groups="account.group_account_user">
                            <group>
                                <group string="–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —Ä–∞—Ö—É–Ω–∫–∏">
                                    <field name="account_id" readonly="1"/>
                                    <field name="analytic_account_id" readonly="1"/>
                                </group>
                                <group string="–¢–µ—Ö–Ω—ñ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è">
                                    <field name="category_code" readonly="1"/>
                                    <field name="cost_center_code" readonly="1"/>
                                    <field name="is_consolidation" readonly="1"/>
                                </group>
                            </group>
                        </page>

                        <page string="–í–∏–∫–æ–Ω–∞–Ω–Ω—è">
                            <group>
                                <group>
                                    <field name="committed_amount"/>
                                    <field name="actual_amount"/>
                                </group>
                                <group>
                                    <field name="department_id"/>
                                    <field name="project_id"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- –ó–û–ü–û–°–¢–ê–í–õ–ï–ù–ù–Ø –ö–ê–¢–ï–ì–û–†–Ü–ô –ó –†–ê–•–£–ù–ö–ê–ú–ò -->
    <record id="view_budget_category_account_mapping_tree" model="ir.ui.view">
        <field name="name">budget.category.account.mapping.tree</field>
        <field name="model">budget.category.account.mapping</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="category_id"/>
                <field name="company_id"/>
                <field name="cbo_id"/>
                <field name="cost_center_id"/>
                <field name="account_id"/>
                <field name="analytic_account_id"/>
                <field name="priority"/>
                <field name="active" widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <record id="action_budget_category_account_mapping" model="ir.actions.act_window">
        <field name="name">–ó–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—ñ–≤</field>
        <field name="res_model">budget.category.account.mapping</field>
        <field name="view_mode">tree</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∑ —Ä–∞—Ö—É–Ω–∫–∞–º–∏!
            </p>
            <p>
                –¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —è–∫—ñ –æ–±–ª—ñ–∫–æ–≤—ñ —Ä–∞—Ö—É–Ω–∫–∏
                –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –±—é–¥–∂–µ—Ç—É.
            </p>
        </field>
    </record>

    <!-- –ú–ï–ù–Æ -->
    <menuitem id="menu_budget_category"
              name="üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç"
              parent="menu_budget_config"
              action="action_budget_category"
              sequence="60"/>

    <menuitem id="menu_budget_cost_center"
              name="üè¢ –¶–µ–Ω—Ç—Ä–∏ –≤–∏—Ç—Ä–∞—Ç"
              parent="menu_budget_config"
              action="action_budget_cost_center"
              sequence="65"/>

    <menuitem id="menu_budget_mapping"
              name="üîó –ó–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—ñ–≤"
              parent="menu_budget_config"
              action="action_budget_category_account_mapping"
              sequence="70"
              groups="account.group_account_manager"/>

</odoo>