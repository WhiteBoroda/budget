<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- views/investment_budget_views.xml -->

    <!-- –§–æ—Ä–º–∞ –º–∞—Å—Ç–µ—Ä–∞ —Ä–∞–±–æ—Ç—ã —Å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –±—é–¥–∂–µ—Ç–∞–º–∏ -->
    <record id="view_investment_budget_wizard_form" model="ir.ui.view">
        <field name="name">investment.budget.wizard.form</field>
        <field name="model">investment.budget.wizard</field>
        <field name="arch" type="xml">
            <form string="–Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –±—é–¥–∂–µ—Ç–∏ –ì–ö –•–ª–µ–±–æ–¥–∞—Ä">
                <group>
                    <group string="–¢–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ—ó">
                        <field name="operation_type" widget="radio"/>
                    </group>
                </group>

                <!-- –ò–º–ø–æ—Ä—Ç –∏–∑ Excel -->
                <group string="–Ü–º–ø–æ—Ä—Ç –∑ Excel" invisible="operation_type != 'import'">
                    <group>
                        <field name="import_file" widget="binary" filename="filename"/>
                        <field name="filename" invisible="1"/>
                        <field name="period_id" options="{'no_create': True}"/>
                    </group>
                    <group>
                        <field name="sheet_name"/>
                        <field name="include_history"/>
                    </group>
                </group>

                <!-- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel -->
                <group string="–ï–∫—Å–ø–æ—Ä—Ç –≤ Excel" invisible="operation_type != 'export'">
                    <group>
                        <field name="period_id" options="{'no_create': True}"/>
                        <field name="include_all_companies"/>
                        <field name="company_ids" widget="many2many_tags"
                               invisible="include_all_companies"/>
                    </group>
                    <group>
                        <field name="currency_display"/>
                        <field name="include_history"/>
                        <field name="sheet_name"/>
                    </group>
                </group>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞ -->
                <group string="–†–µ–∑—É–ª—å—Ç–∞—Ç —ñ–º–ø–æ—Ä—Ç—É" invisible="not import_summary">
                    <field name="import_summary" widget="text" readonly="1" nolabel="1"/>
                </group>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
                <group string="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª" invisible="not result_file">
                    <field name="result_file" widget="binary"
                           filename="result_filename" readonly="1"/>
                    <field name="result_filename" invisible="1"/>
                </group>

                <notebook>
                    <page string="–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏–º –±—é–¥–∂–µ—Ç–∞–º">
                        <div class="alert alert-info">
                            <h4>üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç—É –ì–ö "–•–ª–µ–±–æ–¥–∞—Ä":</h4>

                            <h5>üèóÔ∏è –¢–∏–ø–∏ –ø—Ä–æ–µ–∫—Ç—ñ–≤:</h5>
                            <ul>
                                <li><strong>–ë—é–¥–∂–µ—Ç 24:</strong> –û—Å–Ω–æ–≤–Ω—ñ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏</li>
                                <li><strong>–ë—é–¥–∂–µ—Ç 20-–û–°:</strong> –ö–∞–ø—ñ—Ç–∞–ª—å–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω–Ω—è –≤ –û–°</li>
                                <li><strong>–ë—é–¥–∂–µ—Ç 21-–û–°:</strong> –ú–∞–ª–æ—Ü—ñ–Ω–Ω—ñ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ—ó</li>
                            </ul>

                            <h5>üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel —Ñ–∞–π–ª—É:</h5>
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G-R</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>‚Ññ –ø–ø</td>
                                        <td>–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É</td>
                                        <td>–°—É–º–∞ –ø—Ä–æ–µ–∫—Ç—É</td>
                                        <td>–û–ø–ª–∞—á–µ–Ω–æ 2023</td>
                                        <td>–û–ø–ª–∞—á–µ–Ω–æ 2024</td>
                                        <td>–ó–∞–ª–∏—à–æ–∫</td>
                                        <td>–ü–æ–º—ñ—Å—è—á–Ω–æ</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5>üéØ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏:</h5>
                            <ul>
                                <li><strong>–Ü–º–ø–æ—Ä—Ç:</strong> –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—ñ–≤ –∑ Excel –≤ Odoo</li>
                                <li><strong>–ï–∫—Å–ø–æ—Ä—Ç:</strong> –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –∑–≤—ñ—Ç—É –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ</li>
                                <li><strong>–ü—Ä–æ–µ–∫—Ç–∏:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤</li>
                                <li><strong>–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è:</strong> –ü–æ–º—ñ—Å—è—á–Ω–∞ —Ä–æ–∑–±–∏–≤–∫–∞ –ø–æ –∑–∞–¥–∞—á–∞—Ö</li>
                                <li><strong>–ö–æ–Ω—Ç—Ä–æ–ª—å:</strong> –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ç—Ä–∞—Ç</li>
                                <li><strong>–ö–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—è:</strong> –ó–≤–µ–¥–µ–Ω–Ω—è –ø–æ –≤—Å—ñ—Ö –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–∞—Ö</li>
                            </ul>

                            <h5>üìà –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:</h5>
                            <ol>
                                <li>–ó–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ Excel —Ñ–∞–π–ª –∑ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</li>
                                <li>–°–∏—Å—Ç–µ–º–∞ —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–µ–∫—Ç–∏ —Ç–∞ –±—é–¥–∂–µ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</li>
                                <li>–í–µ–¥—ñ—Ç—å –æ–±–ª—ñ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ Odoo</li>
                                <li>–ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –∑–≤—ñ—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç—ñ –ì–ö –¥–ª—è –∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–∞</li>
                            </ol>

                            <div class="alert alert-warning mt-3">
                                <strong>‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:</strong> –§–∞–π–ª –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —è–∫ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É
                                —à–∞–±–ª–æ–Ω—ñ –ì–ö "–•–ª–µ–±–æ–¥–∞—Ä" –∑ –ª–∏—Å—Ç–∞–º–∏ "–ë—é–¥–∂–µ—Ç 24", "–ë—é–¥–∂–µ—Ç 20-–û–°", "–ë—é–¥–∂–µ—Ç 21-–û–°"
                            </div>
                        </div>
                    </page>

                    <page string="–ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏">
                        <div>
                            <h4>üí∞ –ü—Ä–∏–∫–ª–∞–¥ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤:</h4>
                            <table class="table table-bordered">
                                <thead class="table-dark">
                                    <tr>
                                        <th>‚Ññ</th>
                                        <th>–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É</th>
                                        <th>–°—É–º–∞, —Ç–∏—Å.–≥—Ä–Ω</th>
                                        <th>–°—Ç–∞—Ç—É—Å</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1.</td>
                                        <td>–ü—Ä–∏–¥–±–∞–Ω–Ω—è –ø–∞–∫—É–≤–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å—É –ë–ê–ó–ò–°</td>
                                        <td>5,448.56</td>
                                        <td>–í –ø—Ä–æ—Ü–µ—Å—ñ</td>
                                    </tr>
                                    <tr>
                                        <td>1.1.</td>
                                        <td>–ü—Ä–∏–¥–±–∞–Ω–Ω—è –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è</td>
                                        <td>5,348.56</td>
                                        <td>–í–∏–∫–æ–Ω–∞–Ω–æ</td>
                                    </tr>
                                    <tr>
                                        <td>1.2.</td>
                                        <td>–î–æ—Å—Ç–∞–≤–∫–∞, –º–æ–Ω—Ç–∞–∂, –ü–ù–†</td>
                                        <td>100.00</td>
                                        <td>–ü–ª–∞–Ω—É—î—Ç—å—Å—è</td>
                                    </tr>
                                    <tr>
                                        <td>2.</td>
                                        <td>–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è IP —Ç–µ–ª–µ—Ñ–æ–Ω—ñ—ó</td>
                                        <td>27.60</td>
                                        <td>–í–∏–∫–æ–Ω–∞–Ω–æ</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5>üìÖ –ü–æ–º—ñ—Å—è—á–Ω–∞ —Ä–æ–∑–±–∏–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î—Ç—å—Å—è –ø–æ:</h5>
                            <ul>
                                <li>–ó–∞–¥–∞—á–∞–º –ø—Ä–æ–µ–∫—Ç—É –≤ Odoo</li>
                                <li>–ü–ª–∞–Ω–æ–≤–∏–º –ø–ª–∞—Ç–µ–∂–∞–º</li>
                                <li>–ï—Ç–∞–ø–∞–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</li>
                                <li>–ó–≤—ñ—Ç–Ω–∏–º –ø–µ—Ä—ñ–æ–¥–∞–º</li>
                            </ul>
                        </div>
                    </page>
                </notebook>

                <footer>
                    <button name="action_import_investment_budget"
                            string="üì• –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑ Excel"
                            type="object"
                            class="btn-primary"
                            invisible="operation_type != 'import'"/>

                    <button name="action_export_investment_budget"
                            string="üì§ –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ Excel"
                            type="object"
                            class="btn-success"
                            invisible="operation_type != 'export'"/>

                    <button string="–ó–∞–∫—Ä–∏—Ç–∏"
                            class="btn-default"
                            special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Action –¥–ª—è –º–∞—Å—Ç–µ—Ä–∞ -->
    <record id="action_investment_budget_wizard" model="ir.actions.act_window">
        <field name="name">–Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –±—é–¥–∂–µ—Ç–∏ –ì–ö –•–ª–µ–±–æ–¥–∞—Ä</field>
        <field name="res_model">investment.budget.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="view_id" ref="view_investment_budget_wizard_form"/>
    </record>

    <!-- –ú–µ–Ω—é –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –±—é–¥–∂–µ—Ç–æ–≤ -->
    <menuitem id="menu_investment_budget"
              name="üèóÔ∏è –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –±—é–¥–∂–µ—Ç–∏"
              parent="menu_budget_planning"
              action="action_investment_budget_wizard"
              sequence="35"/>

    <!-- Server Action –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ -->
    <record id="action_quick_investment_import" model="ir.actions.server">
        <field name="name">–®–≤–∏–¥–∫–∏–π —ñ–º–ø–æ—Ä—Ç —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç—É</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="binding_model_id" ref="project.model_project_project"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
action = {
    'type': 'ir.actions.act_window',
    'name': '–Ü–º–ø–æ—Ä—Ç —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç—É',
    'res_model': 'investment.budget.wizard',
    'view_mode': 'form',
    'target': 'new',
    'context': {'default_operation_type': 'import'}
}
        </field>
    </record>

    <!-- –û—Ç—á–µ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
    <record id="view_investment_projects_tree" model="ir.ui.view">
        <field name="name">investment.projects.tree</field>
        <field name="model">project.project</field>
        <field name="arch" type="xml">
            <tree decoration-info="stage_id.name == '–í –ø—Ä–æ—Ü–µ—Å—ñ'"
                  decoration-success="stage_id.name == '–í–∏–∫–æ–Ω–∞–Ω–æ'"
                  decoration-warning="stage_id.name == '–ü–ª–∞–Ω—É—î—Ç—å—Å—è'">
                <field name="name"/>
                <field name="partner_id"/>
                <field name="date_start"/>
                <field name="user_id"/>
                <field name="stage_id"/>
                <field name="task_count"/>
                <field name="company_id" groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <record id="action_investment_projects" model="ir.actions.act_window">
        <field name="name">–Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('name', 'ilike', '—ñ–Ω–≤–µ—Å—Ç'), '|', ('name', 'ilike', '–ø—Ä–∏–¥–±–∞–Ω–Ω—è'), ('name', 'ilike', '–≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è')]</field>
        <field name="context">{'search_default_group_stage': 1}</field>
        <field name="view_id" ref="view_investment_projects_tree"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                –°—Ç–≤–æ—Ä—ñ—Ç—å –≤–∞—à –ø–µ—Ä—à–∏–π —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏–π –ø—Ä–æ–µ–∫—Ç!
            </p>
            <p>
                –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏ –º–æ–∂–Ω–∞:
                <ul>
                    <li>–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑ Excel —Ñ–∞–π–ª—ñ–≤ –ì–ö</li>
                    <li>–°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É</li>
                    <li>–ü–ª–∞–Ω—É–≤–∞—Ç–∏ –ø–æ–º—ñ—Å—è—á–Ω–æ</li>
                    <li>–ö–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</li>
                </ul>
            </p>
        </field>
    </record>

    <menuitem id="menu_investment_projects"
              name="üìà –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏"
              parent="menu_budget_execution"
              action="action_investment_projects"
              sequence="15"/>

</odoo>