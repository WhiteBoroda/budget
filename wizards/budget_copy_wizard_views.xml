<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- WIZARD –ö–û–ü–Ü–Æ–í–ê–ù–ù–Ø –ë–Æ–î–ñ–ï–¢–Ü–í -->

    <record id="view_budget_copy_wizard_form" model="ir.ui.view">
        <field name="name">budget.copy.wizard.form</field>
        <field name="model">budget.copy.wizard</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_title">
                        <h1>üìã –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±—é–¥–∂–µ—Ç—É</h1>
                        <p>–®–≤–∏–¥–∫–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤ –∞–±–æ —à–∞–±–ª–æ–Ω—ñ–≤</p>
                    </div>

                    <group>
                        <group string="üéØ –¶—ñ–ª—å–æ–≤–∏–π –±—é–¥–∂–µ—Ç">
                            <field name="target_budget_id" options="{'no_create': True}" readonly="1"/>
                            <label for="target_budget_id" string="–ö—É–¥–∏ –∫–æ–ø—ñ—é—î–º–æ:"/>
                            <div>
                                <strong><field name="target_budget_id" readonly="1" options="{'no_create': True}"/></strong><br/>
                                <span class="text-muted">
                                    –ü–µ—Ä—ñ–æ–¥: <field name="target_budget_id" readonly="1" options="{'no_create': True}" string=" "/>
                                </span>
                            </div>
                        </group>

                        <group string="üìÇ –î–∂–µ—Ä–µ–ª–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è">
                            <field name="copy_mode" widget="radio"/>

                            <field name="source_period_id"
                                   attrs="{'invisible': [('copy_mode', 'not in', ['specific_period'])],
                                          'required': [('copy_mode', '=', 'specific_period')]}"
                                   options="{'no_create': True}"/>

                            <field name="source_budget_id"
                                   attrs="{'invisible': [('copy_mode', 'not in', ['specific_period', 'another_budget', 'previous_period', 'same_period_previous_year'])],
                                          'required': [('copy_mode', 'in', ['another_budget'])]}"
                                   options="{'no_create': True}"/>

                            <field name="template_id"
                                   attrs="{'invisible': [('copy_mode', '!=', 'template')],
                                          'required': [('copy_mode', '=', 'template')]}"
                                   options="{'no_create': True}"/>
                        </group>
                    </group>

                    <!-- –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –ö–û–ü–Ü–Æ–í–ê–ù–ù–Ø -->
                    <group string="‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è">
                        <group string="–©–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏">
                            <field name="copy_amounts"/>
                            <field name="copy_quantities"/>
                            <field name="copy_descriptions"/>
                            <field name="copy_categories"/>
                        </group>

                        <group string="–ö–æ—Ä–∏–≥—É–≤–∞–Ω–Ω—è —Å—É–º">
                            <field name="amount_adjustment_type"/>
                            <field name="adjustment_value"
                                   attrs="{'invisible': [('amount_adjustment_type', 'in', ['none', 'inflation'])],
                                          'required': [('amount_adjustment_type', 'in', ['percentage', 'fixed_amount'])]}"
                                   string="–ó–Ω–∞—á–µ–Ω–Ω—è"/>
                            <field name="inflation_rate"
                                   attrs="{'invisible': [('amount_adjustment_type', '!=', 'inflation')],
                                          'required': [('amount_adjustment_type', '=', 'inflation')]}"/>
                        </group>
                    </group>

                    <!-- –§–Ü–õ–¨–¢–†–ò -->
                    <group string="üîç –§—ñ–ª—å—Ç—Ä–∏ (–æ–ø—Ü—ñ–π–Ω–æ)" col="1">
                        <field name="filter_by_category"/>
                        <field name="category_ids" widget="many2many_tags"
                               attrs="{'invisible': [('filter_by_category', '=', False)]}"
                               placeholder="–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è..."/>

                        <group col="2">
                            <field name="min_amount" string="–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞"/>
                            <field name="max_amount" string="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º–∞"/>
                        </group>
                    </group>

                    <!-- –†–ï–ó–£–õ–¨–¢–ê–¢ –ü–û–ü–ï–†–ï–î–ù–¨–û–ì–û –ü–ï–†–ï–ì–õ–Ø–î–£ -->
                    <group string="üìã –†–µ–∑—É–ª—å—Ç–∞—Ç" attrs="{'invisible': [('copy_summary', '=', False)]}">
                        <field name="copy_summary" widget="text" readonly="1" nolabel="1"/>
                    </group>
                </sheet>

                <footer>
                    <button name="action_preview_copy" string="üëÅÔ∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥"
                            type="object" class="btn-info"
                            attrs="{'invisible': [('preview_mode', '=', True)]}"/>

                    <button name="action_execute_copy" string="‚úÖ –í–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è"
                            type="object" class="btn-primary"
                            confirm="–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ? –Ü—Å–Ω—É—é—á—ñ –ª—ñ–Ω—ñ—ó –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ."/>

                    <button string="‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- –î–Ü–Ø –î–õ–Ø –ó–ê–ü–£–°–ö–£ WIZARD -->
    <record id="action_budget_copy_wizard" model="ir.actions.act_window">
        <field name="name">–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±—é–¥–∂–µ—Ç—É</field>
        <field name="res_model">budget.copy.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="binding_model_id" ref="model_budget_plan"/>
        <field name="binding_view_types">form</field>
    </record>

    <!-- WIZARD –°–¢–í–û–†–ï–ù–ù–Ø –°–¢–†–£–ö–¢–£–†–ò –ö–û–ù–°–û–õ–Ü–î–ê–¶–Ü–á -->
    <record id="view_budget_consolidation_wizard_form" model="ir.ui.view">
        <field name="name">budget.consolidation.wizard.form</field>
        <field name="model">budget.consolidation.wizard</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_title">
                        <h1>üèóÔ∏è –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó</h1>
                        <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó –±—é–¥–∂–µ—Ç—ñ–≤ –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó</p>
                    </div>

                    <group>
                        <group string="–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó">
                            <field name="period_id" required="1"/>
                            <field name="budget_type_id" required="1"/>
                            <field name="create_for_all_levels" widget="boolean_toggle"/>
                        </group>

                        <group string="–†—ñ–≤–Ω—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è">
                            <field name="create_holding_budgets"/>
                            <field name="create_company_budgets"/>
                            <field name="create_site_budgets"/>
                        </group>
                    </group>

                    <group string="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">
                        <field name="auto_consolidate_enabled" widget="boolean_toggle"/>
                        <field name="copy_from_previous_period" widget="boolean_toggle"/>
                        <field name="send_notifications" widget="boolean_toggle"/>
                    </group>

                    <!-- –ü–û–ü–ï–†–ï–î–ù–Ü–ô –ü–ï–†–ï–ì–õ–Ø–î –°–¢–†–£–ö–¢–£–†–ò -->
                    <group string="üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è" attrs="{'invisible': [('preview_structure', '=', False)]}">
                        <field name="preview_structure" widget="text" readonly="1" nolabel="1"/>
                    </group>
                </sheet>

                <footer>
                    <button name="action_preview_structure" string="üëÅÔ∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥"
                            type="object" class="btn-info"/>

                    <button name="action_create_structure" string="üèóÔ∏è –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É"
                            type="object" class="btn-primary"
                            confirm="–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±—é–¥–∂–µ—Ç—ñ–≤ –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó?"/>

                    <button string="‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏" class="btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

</odoo>